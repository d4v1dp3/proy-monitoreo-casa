/* ------------------------------------------------------------------------ */
/*  Base de datos para el sistema de Monitore Remoto para pacientes COVID   */
/*  Autor: Iliac Huerta Trujillo			      		    */
/*  Creado : 10-Sep-2020 04:15:34 p.m. 				    	    */
/*  DBMS   : MySql 							    */
/* ------------------------------------------------------------------------ */

/*--Borrar tablas*/
TRUNCATE TABLE RM_MENU_OPCION;
TRUNCATE TABLE RM_ROL_MENU;
TRUNCATE TABLE RM_USUARIO_ROL;
TRUNCATE TABLE RM_BITACORA;
TRUNCATE TABLE RM_HOSPITAL_MEDICO;
DELETE FROM RM_MEDICO;
DELETE FROM RM_USUARIO;
DELETE FROM RM_PERSONA;
DELETE FROM RM_GENERO;

DELETE FROM RM_OPCION;
DELETE FROM RM_MENU;
DELETE FROM RM_ROL;

/*--- Definiciones de Roles*/
INSERT INTO RM_ROL (ID_ROL, DESCRIPCION) VALUES (1,'ADMINISTRADOR');
INSERT INTO RM_ROL (ID_ROL, DESCRIPCION) VALUES (2,'APOYO');
INSERT INTO RM_ROL (ID_ROL, DESCRIPCION) VALUES (3,'MEDICO');
INSERT INTO RM_ROL (ID_ROL, DESCRIPCION) VALUES (4,'PACIENTE');
INSERT INTO RM_ROL (ID_ROL, DESCRIPCION) VALUES (5,'ADMON_HOSPITAL');


/*---- Definiciones de menus*/
INSERT INTO RM_MENU (ID_MENU, DESCRIPCION, RUTA_ICONO, POSICION) VALUES (1,'General','fa fa-cog',999);
INSERT INTO RM_MENU (ID_MENU, DESCRIPCION, RUTA_ICONO, POSICION) VALUES (2,'Administrador','fas fa-user-ninja',1);

/*-- Definición de Opciones*/
Insert into RM_OPCION (ID_OPCION, DESCRIPCION, RUTA_ICONO, ACCION) Values (1, 'Salir', 'ui-icon-close', '#{sesionMB.cerrarSesion}');
Insert into RM_OPCION (ID_OPCION, DESCRIPCION, RUTA_ICONO, ACCION) Values (2, 'Gestión usuarios', 'fas fa-id-card', '/faces/facelets/admon/gestionUsuarios.xhtml');
Insert into RM_OPCION (ID_OPCION, DESCRIPCION, RUTA_ICONO, ACCION) Values (3, 'Gestión Hospital', 'fas fa-hospital', '/faces/facelets/admon/gestionHospital.xhtml');

/*--Asociación de Rol con Menu*/
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (1,1); /*--Todos los roles tienen el menú general*/
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (2,1);
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (1,2);
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (1,3);
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (1,4);
INSERT INTO RM_ROL_MENU (ID_MENU, ID_ROL) VALUES (1,5);

/*Definición de opciones para cada menú*/
INSERT INTO RM_MENU_OPCION (ID_MENU_OPCION,ID_MENU,ID_OPCION,ID_SUB_MENU,POSICION) VALUES (1,1,1,null,999);
INSERT INTO RM_MENU_OPCION (ID_MENU_OPCION,ID_MENU,ID_OPCION,ID_SUB_MENU,POSICION) VALUES (2,2,2,null,1);
INSERT INTO RM_MENU_OPCION (ID_MENU_OPCION,ID_MENU,ID_OPCION,ID_SUB_MENU,POSICION) VALUES (3,2,3,null,2);

/*--- Definición catálogo de géneros*/
INSERT INTO RM_GENERO (ID_GENERO,DESCRIPCION) VALUES(1,'FEMENINO');
INSERT INTO RM_GENERO (ID_GENERO,DESCRIPCION) VALUES(2,'MASCULINO');
INSERT INTO RM_GENERO (ID_GENERO,DESCRIPCION) VALUES(3,'N/E');


/*-- Persona inicial*/
INSERT INTO RM_PERSONA (ID_PERSONA,ID_GENERO,NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,CURP) VALUES (1,3,'JHON','DOE','DOE','JDD80202020');
INSERT INTO RM_PERSONA (ID_PERSONA,ID_GENERO,NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,CURP) VALUES (2,2,'ILIAC','HUERTA','TRUJILLO','HUTI070707');


/*-- Usuario */
INSERT INTO RM_USUARIO (ID_USUARIO,CONTRASENIA,ACTIVO,ID_PERSONA) VALUES ('johndoe','johndoe',TRUE,1);
INSERT INTO RM_USUARIO (ID_USUARIO,CONTRASENIA,ACTIVO,ID_PERSONA) VALUES ('ihuerta','ihuerta123',TRUE,2);


/*---usuario rol*/

INSERT INTO RM_USUARIO_ROL (ID_USUARIO,ID_ROL) VALUES ('johndoe',1);
INSERT INTO RM_USUARIO_ROL (ID_USUARIO,ID_ROL) VALUES ('ihuerta',1);
INSERT INTO RM_USUARIO_ROL (ID_USUARIO,ID_ROL) VALUES ('ihuerta',2);
INSERT INTO RM_USUARIO_ROL (ID_USUARIO,ID_ROL) VALUES ('ihuerta',5);

commit;
